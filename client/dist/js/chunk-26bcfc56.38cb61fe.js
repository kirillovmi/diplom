(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26bcfc56"],{7585:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("HeaderMin"),e("section",{attrs:{id:"lesson"}},[e("div",{staticClass:"lesson"},[e("div",{staticClass:"container"},[e("h3",[t._v(t._s(t.lesson.title))])]),t.admin?e("div",{staticClass:"container"},[e("button",{on:{click:t.deleteLesson}},[t._v("Удалить")]),t.isEdit?e("button",{on:{click:t.editChange}},[t._v("Отмена")]):e("button",{on:{click:t.editChange}},[t._v("Редактрировать")])]):t._e(),t.isEdit?e("div",[e("div",{staticClass:"container"},[t._l(t.errors,(function(s){return e("div",{key:s.id,staticClass:"errors"},[t._v(t._s(s.msg))])})),t.msg?e("div",{staticClass:"msg"},[t._v(t._s(t.msg))]):t._e()],2),t.admin?e("form",{staticClass:"container",on:{submit:function(s){return s.preventDefault(),t.updateLesson(s)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"inputEmail4"}},[t._v("Название")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lesson.title,expression:"lesson.title"}],staticClass:"form-control",attrs:{type:"text",id:"inputEmail4"},domProps:{value:t.lesson.title},on:{input:function(s){s.target.composing||t.$set(t.lesson,"title",s.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"inputPassword4"}},[t._v("Видео")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lesson.video,expression:"lesson.video"}],staticClass:"form-control",attrs:{type:"text",id:"inputPassword4"},domProps:{value:t.lesson.video},on:{input:function(s){s.target.composing||t.$set(t.lesson,"video",s.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputAddress"}},[t._v("Теория")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lesson.theory,expression:"lesson.theory"}],staticClass:"form-control",attrs:{rows:"10",id:"inputAddress",placeholder:""},domProps:{value:t.lesson.theory},on:{input:function(s){s.target.composing||t.$set(t.lesson,"theory",s.target.value)}}})]),e("h4",[t._v("Вопрос")]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"inputEmail4"}},[t._v("Вопрос")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lesson.question.text,expression:"lesson.question.text"}],staticClass:"form-control",attrs:{type:"text",id:"inputEmail4"},domProps:{value:t.lesson.question.text},on:{input:function(s){s.target.composing||t.$set(t.lesson.question,"text",s.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"inputPassword4"}},[t._v("Ответ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.answer_title,expression:"answer_title"}],staticClass:"form-control",attrs:{type:"text",id:"inputPassword4"},domProps:{value:t.answer_title},on:{input:function(s){s.target.composing||(t.answer_title=s.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.answer_right,expression:"answer_right"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.answer_right)?t._i(t.answer_right,null)>-1:t.answer_right},on:{change:function(s){var e=t.answer_right,a=s.target,n=!!a.checked;if(Array.isArray(e)){var o=null,i=t._i(e,o);a.checked?i<0&&(t.answer_right=e.concat([o])):i>-1&&(t.answer_right=e.slice(0,i).concat(e.slice(i+1)))}else t.answer_right=n}}})])]),e("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(s){return s.preventDefault(),t.addQuestion(s)}}},[t._v("Добавить ответ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Обновить урок")]),e("ul",t._l(t.answers,(function(s){return e("li",{key:s.key},[t._v(t._s(s.title))])})),0)]):t._e()]):e("div",[e("iframe",{staticClass:"mult-less",attrs:{src:t.lesson.video,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),t._m(0),e("div",{staticClass:"container"},[e("div",{staticClass:"col"},[e("div",{staticClass:"collapse multi-collapse",attrs:{id:"multiCollapseExample1"}},[e("div",{staticClass:"card card-body"},[e("p",{staticClass:"text txt"},[t._v(" "+t._s(t.lesson.theory)+" "),e("br"),t.getToken?e("button",{staticClass:"btn btn-dark d-block mx-auto",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"}},[t._v(" Пройти тест ")]):t._e()]),e("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.answerTest(t.lesson.question.answers)}}},[e("p",{staticClass:"text-center"},[e("b",[t._v(t._s(t.lesson.question.text))])]),e("div",{staticClass:"question"},[e("hr"),e("ol",t._l(t.lesson.question.answers,(function(s){return e("li",{key:s.id},[e("input",{attrs:{type:"checkbox",name:"quest1"},on:{change:function(e){return t.chooseAnswer(s)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"a_1"}},[t._v(t._s(s.title))])])})),0)]),e("div",[t._v(" "+t._s(t.msg)+" "),e("button",{staticClass:"btn-dark btn-lg btn-block",attrs:{id:"apply"}},[t._v("Получить результат")])])]),e("pre",{attrs:{id:"log"}},[t._v("                                                ")])])])])])]),e("hr")]),t.admin?e("div",[e("h2",[t._v("Прошедшие тест")]),e("table",{staticClass:"table table-sm table-dark table-hover"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Имя")]),e("ht",{attrs:{scope:"col"}},[t._v("Количество попыток")]),e("th",{attrs:{scope:"col"}},[t._v("Счет")]),e("th",{attrs:{scope:"col"}},[t._v("Результат")])],1)]),e("tbody",t._l(t.lesson.testing,(function(s){return e("tr",{key:s._id},[e("td",[t._v(t._s(s.user.name))]),e("td",[t._v(t._s(s.trying))]),e("td",[t._v(t._s(s.score))]),s.isFinished?e("td",[t._v("Сдал")]):e("td",[t._v("Не сдал")])])})),0)])]):t._e()])])])])])],1)},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("a",{staticClass:"btn btn-dark",attrs:{"data-toggle":"collapse",href:"#multiCollapseExample1",role:"button","aria-expanded":"false","aria-controls":"multiCollapseExample1"}},[t._v("Показать теорию")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Вопрос")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],o=(e("d81d"),e("5530")),i=e("b650"),r=e("c758"),l=e("2f62"),c={name:"LessonDetail",data:function(){return{lesson:{},msg:"",errors:[],admin:!1,isEdit:!1,answers:[],answer_right:!1}},components:{HeaderMin:i["a"]},computed:Object(o["a"])({},Object(l["c"])(["getToken"])),mounted:function(){var t=this;Object(r["o"])().then((function(s){t.lesson=s.data})).catch((function(t){console.log(t.response.data.errors)})),this.getUser(),this.msg="",this.errors=[]},methods:{answerTest:function(t){var s=this,e=0;t.map((function(t){t.right!=t.user_answer&&e++})),0==e?Object(r["d"])(!0).then((function(){Object(r["o"])().then((function(t){s.lesson=t.data})).catch((function(t){console.log(t.response.data.errors)})),s.msg="Ответ верный"})).catch((function(t){console.log(t)})):Object(r["d"])(!1).then((function(){Object(r["o"])().then((function(t){s.lesson=t.data})).catch((function(t){console.log(t.response.data.errors)})),s.msg="Ответ неверный"})).catch((function(t){console.log(t)}))},chooseAnswer:function(t){t.user_answer=!t.user_answer},getUser:function(){var t=this;Object(r["l"])().then((function(s){"admin"==s.data.role&&(t.admin=!0)})).catch((function(t){console.log(t.response.data.errors)}))},deleteLesson:function(){var t=this;Object(r["f"])().then((function(){t.errors=[],t.msg="Урок удален"})).catch((function(s){t.msg="",t.errors=s.response.data.errors}))},editChange:function(){this.isEdit=!this.isEdit},updateLesson:function(){var t=this,s={text:this.question_title,answers:this.answers};Object(r["v"])(this.lesson.title,this.lesson.video,this.lesson.theory,s).then((function(){t.errors=[],t.msg="Урок обновлен"})).catch((function(s){t.msg="",t.errors=s.response.data.errors}))},addQuestion:function(){var t={title:this.answer_title,right:this.answer_right};this.answers.push(t)}}},d=c,u=e("2877"),m=Object(u["a"])(d,a,n,!1,null,null,null);s["default"]=m.exports},d81d:function(t,s,e){"use strict";var a=e("23e7"),n=e("b727").map,o=e("1dde"),i=e("ae40"),r=o("map"),l=i("map");a({target:"Array",proto:!0,forced:!r||!l},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-26bcfc56.38cb61fe.js.map